<?xml version="1.0" encoding="utf-8"?>
<!--
  File: views/view_invoice_by_so.xml
  Module: ons_productivity_invoice

  Created by cyp@open-net.ch

  Copyright (c) 2014 Open-Net Ltd. All rights reserved.
-->
<openerp>
    <data>

        <!-- 
            More for the customer's invoice 
        -->
        <record model="ir.ui.view" id="onsp_cust_invoice_form">
            <field name="name">Open-Net productivity: customer invoice</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="priority" eval="17"/>
            <field name="arch" type="xml">
                <button string="Print" position="after">
                    <button name="invoice_by_so_print" string="Print" type="object" attrs="{'invisible':['|',('sent','=',True), ('state', '!=', 'open')]}" class="oe_highlight" groups="base.group_user"/>
                </button>
                <button string="Print Invoice" position="after">
                    <button name="invoice_by_so_print" string="Print Invoice" type="object" attrs="{'invisible':['|',('sent','=',True), ('state', '!=', 'open')]}" class="oe_highlight" groups="base.group_user"/>
                </button>
            </field>
        </record>

        <report 
            id="account_invoices_by_so"
            model="account.invoice"
            string="Invoices by SO"
            report_type="qweb-pdf"
            name="ons_productivity_invoice.report_invoice_grouped_by_so"
            file="ons_productivity_invoice.report_invoice_so"/>

    </data>
</openerp>
