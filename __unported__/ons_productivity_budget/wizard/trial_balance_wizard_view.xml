<?xml version="1.0" encoding="utf-8"?>
<!--
  File: wizard/trial_balance_wizard_view.xml
  Module: ons_productivity_budget

  Created by cyp@open-net.ch

  Copyright (c) 2013 Open-Net Ltd. All rights reserved.
-->
<openerp>
    <data>

        <record model="ir.ui.view" id="ons_account_report_balance_view">
            <field name="name">Trial Balance</field>
            <field name="model">trial.balance.webkit</field>
            <field name="inherit_id" ref="account_financial_report_webkit.account_trial_balance_view_webkit" />
            <field name="priority" eval="17"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//group[@string='Dates']" position="replace">
                        <group attrs="{'invisible':[('filter', '!=', 'filter_date')]}">
                            <group string="Dates"  attrs="{'required':[('filter', '=', 'filter_date')]}">
                                <field name="date_from" />
                                <field name="date_to" attrs="{'required':[('add_budget', '!=', False)]}"/>
                            </group>
                            <group string="Budget">
                                <field name="add_budget" on_change="on_change_add_budget(add_budget, date_from, date_to)" attrs="{'readonly':[('simplified','!=',False)]}"/>
                                <field name="simplified_budget" attrs="{'invisible':[('add_budget','=',False)]}"/>
                            </group>
                        </group>
                    </xpath>
                    <xpath expr="//page[@name='filters']" position="before">
                        <page string="Layout" name="layout">
                            <group>
                                <field name="simplified" attrs="{'readonly':[('add_budget','!=',False)]}" on_change="on_change_simplified(simplified)"/>
                            </group>
                        </page>
                    </xpath>
                </data>
            </field>
        </record>

    </data>
</openerp>
