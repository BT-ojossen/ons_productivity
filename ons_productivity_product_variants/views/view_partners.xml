<?xml version="1.0" encoding="utf-8"?>
<!--
  File: views/view_partners.xml
  Module: ons_productivity_product_variants

  Created by cyp@open-net.ch

  Copyright (c) 2016-TODAY Open-Net Ltd. All rights reserved.
-->
<openerp>
    <data>

        <!--
            More for the partners
        -->

        <record model="ir.ui.view" id="batiplus_view_partner_form">
            <field name="name">Open Net for B+: partner form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="priority" eval="17"/>
            <field name="arch" type="xml">
                <field name="website" position="after">
                    <field name="designer"/>
                </field>
                <notebook position="inside">
                    <page string="Products" name="products" attrs="{'invisible':[('designer','=',False)]}">
                        <field name="corresp_products"/>
                    </page>
                    <page string="Designer infos" name="designer_infos" attrs="{'invisible':[('designer','=',False)]}">
                        <field name="designer_info_fr" placeholder="French description"/>
                        <field name="designer_info_en" placeholder="English description"/>
                        <field name="designer_info_de" placeholder="German description"/>
                    </page>
                    <page string="Price management" name="designer_infos" attrs="{'invisible':[('supplier','=',False)]}">
                        <group>
                            <group>
                                <field name="ons_supplier_currency"/>
                                <field name="ons_supplier_price_method"/>
                                <field name="ons_sell_margin_formula"/>
                                <field name="ons_buy_margin_formula"/>
                                <field name="ons_promote_margin_formula"/>
    							<button
                                    name="button_recomp_prices"
                                    string="Update Buy and Sell Prices"
                                    type="object"
                                />
                            </group>
                            <group>
                                <separator string="Margins" colspan="2"/>
                                <field name="ons_supplier_margins" nolabel="1">
                                    <tree string="Margins list" editable="top">
                                        <field name="amount"/>
                                        <field name="percentage"/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </page>
                </notebook>
            </field>
        </record>

    </data>
</openerp>
